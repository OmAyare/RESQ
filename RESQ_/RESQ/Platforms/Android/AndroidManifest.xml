<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="com.companyname.resq" android:versionCode="1" android:versionName="1.0">
	<uses-sdk android:minSdkVersion="21" android:targetSdkVersion="34" />
	<uses-permission android:name="android.permission.WRITE_SMS" />
	<uses-permission android:name="android.permission.SEND_SMS" />
	<uses-permission android:name="android.permission.READ_SMS" />
	<uses-permission android:name="android.permission.RECEIVE_SMS" />
	<uses-permission android:name="android.permission.BROADCAST_SMS" />
	<uses-permission android:name="android.permission.RECEIVE_MMS" />
	<uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
	<uses-permission android:name="android.permission.RECEIVE_WAP_PUSH" />
	<uses-permission android:name="android.permission.READ_CELL_BROADCASTS" />
	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
	<uses-permission android:name="android.permission.INTERNET" />
	<uses-permission android:name="android.permission.READ_CONTACTS" />
	<uses-permission android:name="android.permission.WRITE_CONTACTS" />
	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
	<uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_LOCATION" />
	<uses-permission android:name="android.permission.READ_PHONE_STATE" />
	<uses-permission android:name="android.permission.SEND_RESPOND_VIA_MESSAGE" />

	<uses-permission android:name="android.permission.CALL_PHONE" />
	<application android:allowBackup="true" android:usesCleartextTraffic="true" android:icon="@mipmap/appicon" android:roundIcon="@mipmap/appicon_round" android:supportsRtl="true" android:label="RESQ" android:name="crc646e6c8a6179242f45.MainApplication" android:debuggable="true" android:extractNativeLibs="true">
		<!-- Emergency Foreground Service -->
		<!-- SMS Receiver for incoming messages -->
		<!--<receiver android:name="RESQ.Platforms.Android.SmsReceiver" android:enabled="true" android:exported="true" android:permission="android.permission.BROADCAST_SMS">
			<intent-filter>
				<action android:name="android.provider.Telephony.SMS_RECEIVED" />
				<category android:name="android.intent.category.DEFAULT" />
			</intent-filter>
		</receiver>-->
		<!-- ✅ Required to qualify as default SMS app -->
		<service android:name="RESQ.Platforms.Android.HeadlessSmsSendService" android:enabled="true" android:exported="true" android:permission="android.permission.SEND_RESPOND_VIA_MESSAGE">
			<intent-filter>
				<action android:name="android.intent.action.RESPOND_VIA_MESSAGE" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="sms" />
				<data android:scheme="smsto" />
				<data android:scheme="mms" />
				<data android:scheme="mmsto" />
			</intent-filter>
		</service>
		<receiver android:name="RESQ.Platforms.Android.SmsSentReceiver" android:enabled="true" android:exported="true">
			<intent-filter>
				<action android:name="SMS_SENT" />
			</intent-filter>
		</receiver>
		<receiver android:name="RESQ.Platforms.Android.SmsDeliveredReceiver" android:enabled="true" android:exported="true">
			<intent-filter>
				<action android:name="SMS_DELIVERED" />
			</intent-filter>
		</receiver>
		<!-- ✅ Required by Android to qualify as default SMS app -->
		<receiver android:name="RESQ.Platforms.Android.SmsDeliverReceiver" android:enabled="true" android:exported="true" android:permission="android.permission.BROADCAST_SMS">
			<intent-filter>
				<action android:name="android.provider.Telephony.SMS_DELIVER" />
				<category android:name="android.intent.category.DEFAULT" />
			</intent-filter>
		</receiver>
		<!-- (Optional) SMS Compose Activity (only needed if RESQ becomes default SMS app) -->
		<activity android:name="RESQ.Platforms.Android.ComposeSmsActivity" android:exported="true" android:launchMode="singleTop" android:theme="@android:style/Theme.Translucent.NoTitleBar">
			<intent-filter>
				<action android:name="android.intent.action.SENDTO" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="smsto" />
				<data android:scheme="sms" />
			</intent-filter>
		</activity>
		<!-- Required by Android 12+ to qualify as full SMS app -->
		<activity android:name="RESQ.Platforms.Android.RespondViaMessageActivity" android:exported="true" android:permission="android.permission.SEND_RESPOND_VIA_MESSAGE" android:theme="@android:style/Theme.Translucent.NoTitleBar">
			<intent-filter>
				<action android:name="android.intent.action.RESPOND_VIA_MESSAGE" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="smsto" />
			</intent-filter>
		</activity>
		<activity android:name="RESQ.Platforms.Android.SmsConversationListActivity" android:exported="true" android:theme="@android:style/Theme.Translucent.NoTitleBar">
			<intent-filter>
				<action android:name="android.intent.action.MAIN" />
				<category android:name="android.intent.category.DEFAULT" />
				<category android:name="android.intent.category.APP_MESSAGING" />
			</intent-filter>
		</activity>
		<!-- ✅ MMS Deliver Receiver (MANDATORY placeholder) -->
		<!--<receiver android:name="RESQ.Platforms.Android.MmsReceiver" android:enabled="true" android:exported="true" android:permission="android.permission.BROADCAST_WAP_PUSH">
			<intent-filter>
				<action android:name="android.provider.Telephony.WAP_PUSH_DELIVER" />
				<action android:name="android.provider.Telephony.WAP_PUSH_RECEIVED" />
				<data android:mimeType="application/vnd.wap.mms-message" />
			</intent-filter>
		</receiver>-->
		<!-- File provider for sharing/export (used by AndroidX) -->
		<provider android:name="androidx.core.content.FileProvider" android:authorities="com.companyname.resq.provider" android:exported="false" android:grantUriPermissions="true">
			<meta-data android:name="android.support.FILE_PROVIDER_PATHS" android:resource="@xml/file_paths" />
		</provider>
		<activity android:configChanges="density|orientation|smallestScreenSize|screenLayout|screenSize|uiMode" android:launchMode="singleTop" android:theme="@style/Maui.SplashTheme" android:name="crc646e6c8a6179242f45.MainActivity" android:exported="true">
			<intent-filter>
				<action android:name="android.intent.action.MAIN" />
				<category android:name="android.intent.category.LAUNCHER" />
			</intent-filter>
		</activity>
		<!--<service android:exported="true" android:label="AutoSendService" android:permission="android.permission.BIND_ACCESSIBILITY_SERVICE" android:name="crc64273fb85989c965fa.AssistiveMessagingService">
			<meta-data android:name="android.accessibilityservice" android:resource="@xml/autosend_config" />
			<intent-filter>
				<action android:name="android.accessibilityservice.AccessibilityService" />
			</intent-filter>
		</service>-->
		<!--<service android:exported="true" android:label="EmergencyAccessibilityService" android:permission="android.permission.BIND_ACCESSIBILITY_SERVICE" android:name="crc64273fb85989c965fa.EmergencyAccessibilityService"> <intent-filter> <action android:name="android.accessibilityservice.AccessibilityService" /> </intent-filter> </service>-->
		<service
			android:name="RESQ.Platforms.Android.EmergencyAccessibilityService"
			android:label="EmergencyAccessibilityService"
			android:permission="android.permission.BIND_ACCESSIBILITY_SERVICE"
			android:exported="true">

			<intent-filter>
				<action android:name="android.accessibilityservice.AccessibilityService" />
			</intent-filter>

			<meta-data
				android:name="android.accessibilityservice"
				android:resource="@xml/emergency_accessibility_config" />
		</service>

		<service android:exported="true" android:foregroundServiceType="location" android:name="crc64273fb85989c965fa.EmergencyService" />
		<service android:exported="true" android:permission="android.permission.SEND_RESPOND_VIA_MESSAGE" android:name="crc64273fb85989c965fa.HeadlessSmsSendService">
			<intent-filter>
				<action android:name="android.intent.action.RESPOND_VIA_MESSAGE" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="sms" />
				<data android:scheme="smsto" />
				<data android:scheme="mms" />
				<data android:scheme="mmsto" />
			</intent-filter>
		</service>
		<receiver android:enabled="true" android:exported="true" android:name="crc64273fb85989c965fa.MmsReceiver">
			<intent-filter>
				<action android:name="android.provider.Telephony.WAP_PUSH_DELIVER" />
				<data android:mimeType="application/vnd.wap.mms-message" />
			</intent-filter>
		</receiver>
		<receiver android:enabled="true" android:exported="true" android:permission="android.permission.BROADCAST_SMS" android:name="crc64273fb85989c965fa.SmsDeliverReceiver">
			<intent-filter>
				<action android:name="android.provider.Telephony.SMS_DELIVER" />
				<category android:name="android.intent.category.DEFAULT" />
			</intent-filter>
		</receiver>
		<!--<receiver android:enabled="true" android:exported="true" android:name="crc64273fb85989c965fa.SmsReceiver">
			<intent-filter>
				<action android:name="android.provider.Telephony.SMS_RECEIVED" />
			</intent-filter>
		</receiver>-->
		<receiver android:exported="true" android:name="crc64273fb85989c965fa.SmsSentReceiver">
			<intent-filter>
				<action android:name="SMS_SENT" />
			</intent-filter>
		</receiver>
		<activity android:configChanges="orientation|screenSize" android:exported="false" android:name="crc6468b6408a11370c2f.WebAuthenticatorIntermediateActivity" />
		<provider android:authorities="com.companyname.resq.fileProvider" android:exported="false" android:grantUriPermissions="true" android:name="microsoft.maui.essentials.fileProvider">
			<meta-data android:name="android.support.FILE_PROVIDER_PATHS" android:resource="@xml/microsoft_maui_essentials_fileprovider_file_paths" />
		</provider>
		<receiver android:enabled="true" android:exported="false" android:label="Essentials Connectivity Broadcast Receiver" android:name="crc64e53d2f592022988e.ConnectivityBroadcastReceiver" />
		<activity android:configChanges="orientation|screenSize" android:exported="false" android:name="crc64ba438d8f48cf7e75.IntermediateActivity" />
		<receiver android:enabled="true" android:exported="false" android:label="Essentials Battery Broadcast Receiver" android:name="crc640a8d9a12ddbf2cf2.BatteryBroadcastReceiver" />
		<receiver android:enabled="true" android:exported="false" android:label="Essentials Energy Saver Broadcast Receiver" android:name="crc640a8d9a12ddbf2cf2.EnergySaverBroadcastReceiver" />
		<service android:name="crc64396a3fe5f8138e3f.KeepAliveService" />
		<provider android:name="mono.MonoRuntimeProvider" android:exported="false" android:initOrder="1999999999" android:authorities="com.companyname.resq.mono.MonoRuntimeProvider.__mono_init__" />
	</application>
	<!-- SMS -->
	<!-- Extra permissions required for full SMS app role -->
	<!-- Network -->
	<!-- Contacts -->
	<!-- Location -->
	<!-- Foreground service permission -->
</manifest>



<!--<manifest xmlns:android="http://schemas.android.com/apk/res/android"  package="com.companyname.resq">
	<application android:allowBackup="true" android:usesCleartextTraffic="true" android:icon="@mipmap/appicon" android:roundIcon="@mipmap/appicon_round" android:supportsRtl="true" android:label="RESQ">
		--><!-- Emergency Foreground Service --><!--
		--><!-- SMS Receiver for incoming messages --><!--
		<receiver
            android:name="RESQ.Platforms.Android.SmsReceiver"
            android:enabled="true"
            android:exported="true"
            android:permission="android.permission.BROADCAST_SMS">
			<intent-filter>
				<action android:name="android.provider.Telephony.SMS_RECEIVED" />
				<category android:name="android.intent.category.DEFAULT" />
			</intent-filter>
		</receiver>

		--><!-- ✅ Required to qualify as default SMS app --><!--
		<service
			android:name="RESQ.Platforms.Android.HeadlessSmsSendService"
			android:enabled="true"
			android:exported="true"
			android:permission="android.permission.SEND_RESPOND_VIA_MESSAGE">
			<intent-filter>
				<action android:name="android.intent.action.RESPOND_VIA_MESSAGE" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="sms" />
				<data android:scheme="smsto" />
				<data android:scheme="mms" />
				<data android:scheme="mmsto" />
			</intent-filter>
		</service>

		<receiver
					android:name="RESQ.Platforms.Android.SmsSentReceiver"
					android:enabled="true"
					android:exported="true">
			<intent-filter>
				<action android:name="SMS_SENT" />
			</intent-filter>
		</receiver>

		<receiver
            android:name="RESQ.Platforms.Android.SmsDeliveredReceiver"
            android:enabled="true"
            android:exported="true">
			<intent-filter>
				<action android:name="SMS_DELIVERED" />
			</intent-filter>
		</receiver>
		
		--><!-- ✅ Required by Android to qualify as default SMS app --><!--
		<receiver
			android:name="RESQ.Platforms.Android.SmsDeliverReceiver"
			android:enabled="true"
			android:exported="true"
			android:permission="android.permission.BROADCAST_SMS">
			<intent-filter>
				<action android:name="android.provider.Telephony.SMS_DELIVER" />
				<category android:name="android.intent.category.DEFAULT" />
			</intent-filter>
		</receiver>


		--><!-- (Optional) SMS Compose Activity (only needed if RESQ becomes default SMS app) --><!--
		<activity
			android:name="RESQ.Platforms.Android.ComposeSmsActivity"
			android:exported="true"  
		    android:launchMode="singleTop"
			android:theme="@android:style/Theme.Translucent.NoTitleBar">
			<intent-filter>
				<action android:name="android.intent.action.SENDTO" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="smsto" />
				<data android:scheme="sms" />
			</intent-filter>
		</activity>

		--><!-- Required by Android 12+ to qualify as full SMS app --><!--
		<activity
			android:name="RESQ.Platforms.Android.RespondViaMessageActivity"
			android:exported="true"
			android:permission="android.permission.SEND_RESPOND_VIA_MESSAGE"
			android:theme="@android:style/Theme.Translucent.NoTitleBar">
			<intent-filter>
				<action android:name="android.intent.action.RESPOND_VIA_MESSAGE" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="smsto" />
			</intent-filter>
		</activity>

		<activity
			   android:name="RESQ.Platforms.Android.SmsConversationListActivity"
			   android:exported="true"
			   android:theme="@android:style/Theme.Translucent.NoTitleBar">
			<intent-filter>
				<action android:name="android.intent.action.MAIN" />
				<category android:name="android.intent.category.DEFAULT" />
				<category android:name="android.intent.category.APP_MESSAGING" />
			</intent-filter>
		</activity>

		--><!-- ✅ MMS Deliver Receiver (MANDATORY placeholder) --><!--
		<receiver
            android:name="RESQ.Platforms.Android.MmsReceiver"
            android:enabled="true"
            android:exported="true"
            android:permission="android.permission.BROADCAST_WAP_PUSH">
			<intent-filter>
				<action android:name="android.provider.Telephony.WAP_PUSH_DELIVER" />
				<action android:name="android.provider.Telephony.WAP_PUSH_RECEIVED" />
				<data android:mimeType="application/vnd.wap.mms-message" />
			</intent-filter>
		</receiver>

		--><!-- File provider for sharing/export (used by AndroidX) --><!--
		<provider
			android:name="androidx.core.content.FileProvider"
			android:authorities="${applicationId}.provider"
			android:exported="false"
			android:grantUriPermissions="true">
			<meta-data
				android:name="android.support.FILE_PROVIDER_PATHS"
				android:resource="@xml/file_paths" />
		</provider>


	</application>

	--><!-- SMS --><!--
	<uses-permission android:name="android.permission.WRITE_SMS" />
	<uses-permission android:name="android.permission.SEND_SMS" />
	<uses-permission android:name="android.permission.READ_SMS" />
	<uses-permission android:name="android.permission.RECEIVE_SMS" />
	<uses-permission android:name="android.permission.BROADCAST_SMS" />
	<uses-permission android:name="android.permission.RECEIVE_MMS" />
	<uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
	--><!-- Extra permissions required for full SMS app role --><!--
	<uses-permission android:name="android.permission.RECEIVE_WAP_PUSH" />
	<uses-permission android:name="android.permission.READ_CELL_BROADCASTS" />



	--><!-- Network --><!--
	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
	<uses-permission android:name="android.permission.INTERNET" />

	--><!-- Contacts --><!--
	<uses-permission android:name="android.permission.READ_CONTACTS" />
	<uses-permission android:name="android.permission.WRITE_CONTACTS" />

	--><!-- Location --><!--
	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
	<uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION" />
	
	--><!-- Foreground service permission --><!--
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_LOCATION" />
	<uses-permission android:name="android.permission.READ_PHONE_STATE" />
	<uses-permission android:name="android.permission.SEND_RESPOND_VIA_MESSAGE" />


</manifest>-->

